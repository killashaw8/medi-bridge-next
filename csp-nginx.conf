# Nginx CSP header (production). Replace domains as needed.
# Add inside your server block:
#   include /etc/nginx/snippets/medi-bridge-csp.conf;

add_header Content-Security-Policy "default-src 'self'; \
  base-uri 'self'; \
  object-src 'none'; \
  frame-ancestors 'none'; \
  img-src 'self' https: data:; \
  font-src 'self' https: data:; \
  style-src 'self' 'unsafe-inline' https:; \
  script-src 'self' 'unsafe-inline' https://accounts.google.com https://developers.kakao.com https://telegram.org; \
  connect-src 'self' https: wss:; \
  frame-src https://accounts.google.com https://telegram.org; \
  form-action 'self';" always;

# Notes:
# - If you add a custom CDN, append it to img-src/font-src/script-src as needed.
# - For stricter CSP, replace 'unsafe-inline' with nonces and add them to Next.js headers.

# DEV ONLY (if you need React/Next dev tooling that uses eval):
# add_header Content-Security-Policy "default-src 'self'; \
#   base-uri 'self'; \
#   object-src 'none'; \
#   frame-ancestors 'none'; \
#   img-src 'self' https: data:; \
#   font-src 'self' https: data:; \
#   style-src 'self' 'unsafe-inline' https:; \
#   script-src 'self' 'unsafe-inline' 'unsafe-eval' https://accounts.google.com https://developers.kakao.com https://telegram.org; \
#   connect-src 'self' https: wss:; \
#   frame-src https://accounts.google.com https://telegram.org; \
#   form-action 'self';" always;
